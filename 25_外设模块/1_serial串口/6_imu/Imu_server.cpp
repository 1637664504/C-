#include <stdint.h>
#include "Imu_CH0X0.h"
int main(int argc, char *argv[])
{
    uint8_t imu_data[] = {0x5a, 0xa5, 0x4c, 0x0, 0xb6, 0x35, 0x91, 0x1, 0x0, 0x23, 0x0, 0x0, 0x0, 0x0, 0x79, 0xf,
                          0x0, 0x0, 0x5d, 0x7d, 0x8e, 0xbd, 0xf8, 0x43, 0xb3, 0x3d, 0xd1, 0xc0, 0x7e, 0x3f, 0xb7, 0x6b,
                          0x15, 0xbf, 0x8e, 0x2b, 0x15, 0x3e, 0xdd, 0x66, 0xb4, 0x3c, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
                          0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x8e, 0x81, 0x81, 0x40, 0xe1, 0xdc, 0x9f, 0x40, 0xf3, 0x9,
                          0x55, 0x3c, 0xe5, 0x98, 0x7f, 0x3f, 0x5a, 0x62, 0x32, 0x3d, 0x2f, 0x83, 0x10, 0x3d, 0xb0, 0x8d,
                          0xd8, 0x3a};

    Imu_CH0X0 imuImpl("/dev/ttyUSB1", 115200);
    imuImpl.init_serial();
    uint8_t buf[256];
    int32_t len;
    while (1)
    {
        len = imuImpl.sync_read(buf, 256);
        imuImpl.parse_msg(buf, len);
    }

    return 0;
}